<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0f172a" id="theme-color">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Security Hub IA">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%236366f1%22/></svg>">
    <link rel="manifest" href="#" id="manifest-placeholder">
    <title>üöÄ Security Hub IA Enterprise - Nicolas B√®s | Plateforme de S√©curit√© Intelligente avec Architecture PWA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@12.3.2/dist/markdown-it.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.0.1/build/global/luxon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.1.0-alpha.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.0/dist/quill.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/split.js@1.6.0/dist/split.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/roughjs@4.5.3/dist/rough.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.27.2/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js"></script>
    <style id="dynamic-theme">
        /* ===== THEMING SYSTEM - AUTO DETECTED DARK/LIGHT MODE ===== */
        :root {
            /* Light mode default */
            --primary: #6366f1;
            --secondary: #8b5cf6;
            --tertiary: #ec4899;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
            --dark: #1e293b;
            --darker: #0f172a;
            --light: #f8fafc;
            --lighter: #ffffff;
            --gray: #64748b;
            --gray-light: #94a3b8;
            --gray-dark: #334155;
            --border-radius: 16px;
            --border-radius-lg: 20px;
            --border-radius-sm: 12px;
            --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.2);
            --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --backdrop-blur: blur(10px);
            --ai-gradient: linear-gradient(45deg, var(--primary), var(--secondary), var(--tertiary));
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-tertiary: #64748b;
            --bg-primary: #f8fafc;
            --bg-secondary: #f1f5f9;
            --bg-tertiary: #e2e8f0;
            --bg-card: #ffffff;
            --border-color: #e2e8f0;
            --success-bg: rgba(16, 185, 129, 0.1);
            --warning-bg: rgba(245, 158, 11, 0.1);
            --danger-bg: rgba(239, 68, 68, 0.1);
            --info-bg: rgba(59, 130, 246, 0.1);
            --primary-bg: rgba(99, 102, 241, 0.1);
            --secondary-bg: rgba(139, 92, 246, 0.1);
            --tertiary-bg: rgba(236, 72, 153, 0.1);
        }

        /* Dark mode overrides */
        @media (prefers-color-scheme: dark) {
            :root {
                --text-primary: #f8fafc;
                --text-secondary: #cbd5e1;
                --text-tertiary: #94a3b8;
                --bg-primary: #0f172a;
                --bg-secondary: #1e293b;
                --bg-tertiary: #334155;
                --bg-card: #1e293b;
                --border-color: #334155;
                --success-bg: rgba(16, 185, 129, 0.15);
                --warning-bg: rgba(245, 158, 11, 0.15);
                --danger-bg: rgba(239, 68, 68, 0.15);
                --info-bg: rgba(59, 130, 246, 0.15);
                --primary-bg: rgba(99, 102, 241, 0.15);
                --secondary-bg: rgba(139, 92, 246, 0.15);
                --tertiary-bg: rgba(236, 72, 153, 0.15);
            }
        }

        /* Forced dark mode */
        .theme-dark {
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-tertiary: #94a3b8;
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --bg-card: #1e293b;
            --border-color: #334155;
            --success-bg: rgba(16, 185, 129, 0.15);
            --warning-bg: rgba(245, 158, 11, 0.15);
            --danger-bg: rgba(239, 68, 68, 0.15);
            --info-bg: rgba(59, 130, 246, 0.15);
            --primary-bg: rgba(99, 102, 241, 0.15);
            --secondary-bg: rgba(139, 92, 246, 0.15);
            --tertiary-bg: rgba(236, 72, 153, 0.15);
        }

        /* Forced light mode */
        .theme-light {
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-tertiary: #64748b;
            --bg-primary: #f8fafc;
            --bg-secondary: #f1f5f9;
            --bg-tertiary: #e2e8f0;
            --bg-card: #ffffff;
            --border-color: #e2e8f0;
            --success-bg: rgba(16, 185, 129, 0.1);
            --warning-bg: rgba(245, 158, 11, 0.1);
            --danger-bg: rgba(239, 68, 68, 0.1);
            --info-bg: rgba(59, 130, 246, 0.1);
            --primary-bg: rgba(99, 102, 241, 0.1);
            --secondary-bg: rgba(139, 92, 246, 0.1);
            --tertiary-bg: rgba(236, 72, 153, 0.1);
        }

        /* ===== BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.6;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(99, 102, 241, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(139, 92, 246, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(236, 72, 153, 0.03) 0%, transparent 30%);
        }

        body.theme-transition {
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        /* ===== MOBILE FIRST NAVIGATION ===== */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: var(--backdrop-blur);
            position: sticky;
            top: 0;
            z-index: 2000;
            border-bottom: 1px solid rgba(99, 102, 241, 0.3);
            transition: var(--transition);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 700;
            font-size: 1.25rem;
            white-space: nowrap;
        }

        .logo-text {
            background: var(--ai-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .ai-badge {
            background: var(--ai-gradient);
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 0.5rem;
            animation: pulse 2s infinite;
            white-space: nowrap;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            margin-left: 2rem;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--primary);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: var(--transition);
        }

        .nav-link:hover::after, .nav-link.active::after {
            width: 100%;
        }

        .ai-indicator {
            display: inline-block;
            width: 6px;
            height: 6px;
            background: var(--tertiary);
            border-radius: 50%;
            margin-left: 0.3rem;
            animation: pulse 2s infinite;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: var(--transition);
        }

        .mobile-menu-btn:hover {
            color: var(--primary);
        }

        /* ===== HAMBURGER MENU ANIMATED FOR MOBILE ===== */
        .hamburger-menu {
            position: fixed;
            top: 0;
            right: -300px;
            width: 280px;
            height: 100vh;
            background: var(--bg-card);
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.15);
            z-index: 2500;
            transition: right 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            padding: 2rem;
            overflow-y: auto;
            border-left: 1px solid var(--border-color);
        }

        .hamburger-menu.open {
            right: 0;
        }

        .menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .close-menu {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .close-menu:hover {
            color: var(--danger);
        }

        .menu-section {
            margin-bottom: 2rem;
        }

        .menu-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-tertiary);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .menu-links {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .menu-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
        }

        .menu-link:hover, .menu-link.active {
            background: var(--primary-bg);
            color: var(--primary);
        }

        .menu-link i {
            width: 20px;
            text-align: center;
        }

        .theme-toggle-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            background: var(--bg-tertiary);
            border-radius: 8px;
            margin-top: 1rem;
        }

        .theme-toggle {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .theme-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--gray-dark);
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .slider.sun::before {
            content: "‚òÄÔ∏è";
            font-size: 10px;
            line-height: 1;
        }

        .slider.moon::before {
            content: "üåô";
            font-size: 10px;
            line-height: 1;
        }

        /* ===== HERO SECTION 3D INTERACTIF AVEC IA ===== */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        #three-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .hero-content {
            max-width: 800px;
            z-index: 10;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
            background: var(--ai-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 10px rgba(139, 92, 246, 0.3);
        }

        .hero h1 span {
            background: linear-gradient(45deg, var(--success), #34d399);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .ai-highlight {
            background: var(--primary-bg);
            padding: 0.15rem 0.4rem;
            border-radius: 6px;
            font-weight: 600;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.85rem 1.75rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transform: translateY(0);
            white-space: nowrap;
        }

        .btn-primary {
            background: var(--ai-gradient);
            color: white;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.6);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
        }

        .btn-outline:hover {
            background: var(--secondary-bg);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--bg-secondary);
            transform: translateY(-2px);
        }

        /* ===== AI WIDGET CONTAINER ===== */
        .ai-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1500;
            display: flex;
            flex-direction: column;
            align-items: end;
            gap: 1rem;
        }

        .copilot-widget {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            width: 350px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
            backdrop-filter: var(--backdrop-blur);
            transform: translateY(100px);
            opacity: 0;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .copilot-widget.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .copilot-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border-color);
        }

        .copilot-avatar {
            width: 36px;
            height: 36px;
            background: var(--ai-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }

        .copilot-title {
            font-weight: 600;
            background: var(--ai-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .copilot-status {
            font-size: 0.8rem;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            display: inline-block;
        }

        .chat-messages {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 1rem;
            padding-right: 0.5rem;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .chat-bubble {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 1rem;
            position: relative;
            max-width: 90%;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chat-bubble.ai {
            background: var(--tertiary-bg);
            border-left: 3px solid var(--tertiary);
            align-self: flex-start;
        }

        .chat-bubble.user {
            background: var(--primary-bg);
            border-right: 3px solid var(--primary);
            align-self: flex-end;
        }

        .chat-input-container {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .copilot-input {
            flex: 1;
            padding: 0.75rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .copilot-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.3);
        }

        .copilot-actions {
            display: flex;
            gap: 0.5rem;
        }

        .copilot-btn {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .copilot-btn-primary {
            background: var(--ai-gradient);
            color: white;
        }

        .copilot-btn-primary:hover {
            transform: scale(1.1);
        }

        .copilot-btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .copilot-btn-secondary:hover {
            background: var(--bg-secondary);
            color: var(--primary);
        }

        /* ===== WINDOW SYSTEM - MODAL WINDOWS ===== */
        .window-system {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3000;
            display: none;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        .window-system.visible {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .window-container {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            transform: scale(0.95);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .window-system.visible .window-container {
            transform: scale(1);
            opacity: 1;
        }

        .window-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
        }

        .window-title {
            font-size: 1.25rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .window-controls {
            display: flex;
            gap: 0.5rem;
        }

        .window-btn {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .window-btn-close {
            background: var(--danger);
            color: white;
        }

        .window-btn-close:hover {
            background: #dc2626;
        }

        .window-btn-minimize {
            background: var(--warning);
            color: white;
        }

        .window-btn-minimize:hover {
            background: #d97706;
        }

        .window-btn-maximize {
            background: var(--success);
            color: white;
        }

        .window-btn-maximize:hover {
            background: #059669;
        }

        .window-content {
            padding: 1.5rem;
            overflow-y: auto;
            flex: 1;
        }

        .window-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--border-color);
            background: var(--bg-secondary);
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
        }

        /* ===== LIBRARY SYSTEM ===== */
        .library-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            height: calc(100vh - 100px);
            gap: 1rem;
        }

        .library-sidebar {
            background: var(--bg-secondary);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            overflow-y: auto;
        }

        .library-main {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .sidebar-section {
            margin-bottom: 1.5rem;
        }

        .sidebar-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .category-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .category-item {
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.95rem;
        }

        .category-item:hover {
            background: var(--bg-tertiary);
        }

        .category-item.active {
            background: var(--primary-bg);
            color: var(--primary);
        }

        .category-item i {
            width: 20px;
            text-align: center;
            font-size: 1rem;
        }

        .search-container {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            background: var(--bg-tertiary);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            background: var(--bg-secondary);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-tertiary);
            font-size: 1rem;
        }

        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .resource-card {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .resource-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
            border-color: var(--primary);
        }

        .resource-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary);
            transform: scaleY(0);
            transform-origin: bottom;
            transition: var(--transition);
        }

        .resource-card:hover::before {
            transform: scaleY(1);
        }

        .resource-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: var(--ai-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .resource-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .resource-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .resource-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: var(--text-tertiary);
        }

        .resource-type {
            background: var(--primary-bg);
            color: var(--primary);
            padding: 0.25rem 0.6rem;
            border-radius: 6px;
            font-weight: 500;
            font-size: 0.85rem;
        }

        .resource-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .resource-btn {
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .resource-btn-primary {
            background: var(--primary-bg);
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .resource-btn-primary:hover {
            background: var(--primary);
            color: white;
        }

        /* ===== TOUCH OPTIMIZATIONS ===== */
        .touch-optimized {
            touch-action: manipulation;
        }

        .touch-button {
            min-width: 56px;
            min-height: 56px;
            padding: 1rem;
        }

        .touch-icon {
            font-size: 1.5rem;
            width: 24px;
            height: 24px;
        }

        /* ===== OFFLINE STATUS INDICATOR ===== */
        .offline-indicator {
            position: fixed;
            top: 1rem;
            right: 1rem;
            background: var(--danger);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            z-index: 4000;
            transform: translateY(-100px);
            opacity: 0;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .offline-indicator.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .offline-indicator.online {
            background: var(--success);
        }

        /* ===== PWA INSTALL PROMPT ===== */
        .install-prompt {
            position: fixed;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem;
            box-shadow: var(--shadow);
            z-index: 3500;
            transition: var(--transition);
            max-width: 350px;
            opacity: 0;
        }

        .install-prompt.visible {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .install-content {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.75rem;
        }

        .install-icon {
            width: 48px;
            height: 48px;
            background: var(--ai-gradient);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }

        .install-text {
            flex: 1;
        }

        .install-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .install-description {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .install-buttons {
            display: flex;
            gap: 0.75rem;
        }

        /* ===== PROGRESSIVE ENHANCEMENT ===== */
        .skeleton {
            background: var(--bg-tertiary);
            border-radius: 8px;
            animation: pulseSkeleton 1.5s infinite;
        }

        @keyframes pulseSkeleton {
            0% { opacity: 1; }
            50% { opacity: 0.6; }
            100% { opacity: 1; }
        }

        /* ===== ANIMATIONS ===== */
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .gradient-animation {
            background-size: 200% 200%;
            animation: gradientShift 4s ease infinite;
        }

        /* ===== MEDIA QUERIES - RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            /* MOBILE NAVIGATION */
            .nav-links {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            /* HERO SECTION */
            .hero h1 {
                font-size: 2.25rem;
            }

            .hero p {
                font-size: 1rem;
            }

            /* BUTTONS */
            .btn {
                padding: 0.75rem 1.5rem;
                font-size: 0.95rem;
            }

            /* AI WIDGET */
            .ai-container {
                position: static;
                margin: 1.5rem auto;
                width: 100%;
                max-width: 380px;
            }

            .copilot-widget {
                width: 100%;
                max-width: 380px;
                margin: 0 auto;
            }

            /* WINDOW SYSTEM */
            .window-container {
                width: 95%;
                max-width: 95%;
                max-height: 85vh;
            }

            .library-container {
                grid-template-columns: 1fr;
                height: auto;
            }

            .library-sidebar {
                order: 2;
            }

            .library-main {
                order: 1;
            }

            /* TOUCH OPTIMIZATIONS */
            .nav-link {
                padding: 0.75rem 0;
                font-size: 1rem;
            }

            .menu-link {
                padding: 1rem;
                font-size: 1.1rem;
            }

            .touch-button {
                min-width: 64px;
                min-height: 64px;
                padding: 1.25rem;
            }

            .touch-icon {
                font-size: 1.8rem;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 2rem;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .cta-buttons {
                flex-direction: column;
            }

            .resource-grid {
                grid-template-columns: 1fr;
            }

            .window-header {
                padding: 0.75rem 1rem;
            }

            .window-title {
                font-size: 1.1rem;
            }

            .window-btn {
                width: 24px;
                height: 24px;
                font-size: 0.7rem;
            }
        }

        /* ===== PRINT STYLES ===== */
        @media print {
            .navbar, .ai-container, .cta-buttons, .copilot-widget {
                display: none !important;
            }

            body {
                background: white !important;
                color: black !important;
            }

            .card, .section {
                box-shadow: none !important;
                border: 1px solid #ddd !important;
            }

            .ai-gradient-animated, .neon-text, .ai-highlight {
                background: none !important;
                -webkit-text-fill-color: inherit !important;
                color: black !important;
            }
        }

        /* ===== ACCESSIBILITY ===== */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
        }

        /* ===== CUSTOM SCROLLBAR ===== */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }

        /* ===== ANIMATED GRADIENTS ===== */
        .animated-gradient-bg {
            background: var(--ai-gradient);
            background-size: 200% 200%;
            animation: gradientShift 4s ease infinite;
        }

        /* ===== GLASS MORPHISM ===== */
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* ===== NEON EFFECTS ===== */
        .neon-effect {
            text-shadow: 0 0 5px rgba(139, 92, 246, 0.7),
                        0 0 10px rgba(139, 92, 246, 0.5),
                        0 0 15px rgba(139, 92, 246, 0.3);
        }

        /* ===== PULSE ANIMATIONS ===== */
        .pulse-animation {
            animation: pulse 2s infinite;
        }

        /* ===== FADE IN ANIMATIONS ===== */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: var(--transition);
        }

        .fade-in.appear {
            opacity: 1;
            transform: translateY(0);
        }

        /* ===== STAGGERED ANIMATIONS ===== */
        .stagger-item {
            opacity: 0;
            transform: translateY(20px);
        }

        .stagger-item.appear {
            animation: fadeInUp 0.6s forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== SKELETON LOADING ===== */
        .skeleton-text {
            height: 1.5rem;
            margin-bottom: 0.75rem;
            border-radius: 4px;
        }

        .skeleton-card {
            height: 200px;
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body class="theme-transition">
    <!-- ===== OFFLINE STATUS INDICATOR ===== -->
    <div class="offline-indicator" id="offline-indicator">
        <i class="fas fa-wifi"></i> Connexion r√©tablie
    </div>

    <!-- ===== PWA INSTALL PROMPT ===== -->
    <div class="install-prompt" id="install-prompt">
        <div class="install-content">
            <div class="install-icon">
                <i class="fas fa-robot"></i>
            </div>
            <div class="install-text">
                <div class="install-title">Security Hub IA</div>
                <div class="install-description">Installez l'application pour un acc√®s hors ligne et des notifications push</div>
            </div>
        </div>
        <div class="install-buttons">
            <button class="btn btn-secondary" id="cancel-install">
                <i class="fas fa-times"></i> Plus tard
            </button>
            <button class="btn btn-primary" id="confirm-install">
                <i class="fas fa-download"></i> Installer
            </button>
        </div>
    </div>

    <!-- ===== NAVIGATION STRAT√âGIQUE AVEC IA ET HAMBURGER MENU ===== -->
    <nav class="navbar">
        <div class="logo">
            <i class="fas fa-brain"></i>
            <span class="logo-text">Security Hub <span class="ai-highlight">IA</span></span>
            <span class="ai-badge">Enterprise</span>
        </div>
        <div class="nav-links">
            <a href="#features" class="nav-link active">
                <i class="fas fa-microchip"></i> Fonctionnalit√©s IA
            </a>
            <a href="#visualization" class="nav-link">
                <i class="fas fa-chart-network"></i> Visualisation
                <span class="ai-indicator"></span>
            </a>
            <a href="#library" class="nav-link" onclick="openLibraryWindow()">
                <i class="fas fa-book"></i> Biblioth√®que
            </a>
            <a href="#architecture" class="nav-link">
                <i class="fas fa-diagram-project"></i> Architecture
            </a>
        </div>
        <button class="mobile-menu-btn touch-optimized touch-button" id="mobile-menu-btn">
            <i class="fas fa-bars touch-icon"></i>
        </button>
    </nav>

    <!-- ===== HAMBURGER MENU FOR MOBILE ===== -->
    <div class="hamburger-menu" id="hamburger-menu">
        <div class="menu-header">
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <span>Security Hub IA</span>
            </div>
            <button class="close-menu touch-optimized touch-button" id="close-menu">
                <i class="fas fa-times touch-icon"></i>
            </button>
        </div>

        <div class="menu-section">
            <div class="menu-title">Navigation Principale</div>
            <div class="menu-links">
                <a href="#features" class="menu-link active">
                    <i class="fas fa-microchip"></i> Fonctionnalit√©s IA
                </a>
                <a href="#visualization" class="menu-link">
                    <i class="fas fa-chart-network"></i> Visualisation
                </a>
                <a href="#library" class="menu-link" onclick="openLibraryWindow()">
                    <i class="fas fa-book"></i> Biblioth√®que
                </a>
                <a href="#architecture" class="menu-link">
                    <i class="fas fa-diagram-project"></i> Architecture
                </a>
                <a href="#contact" class="menu-link">
                    <i class="fas fa-envelope"></i> Contact
                </a>
            </div>
        </div>

        <div class="menu-section">
            <div class="menu-title">Cat√©gories IA</div>
            <div class="menu-links">
                <a href="#" class="menu-link">
                    <i class="fas fa-robot"></i> Copilot S√©curit√©
                </a>
                <a href="#" class="menu-link">
                    <i class="fas fa-brain"></i> ML Pr√©dictif
                </a>
                <a href="#" class="menu-link">
                    <i class="fas fa-language"></i> NLP Avanc√©
                </a>
                <a href="#" class="menu-link">
                    <i class="fas fa-shield-alt"></i> Conformit√© RGPD
                </a>
            </div>
        </div>

        <div class="menu-section">
            <div class="menu-title">Th√®me & Accessibilit√©</div>
            <div class="theme-toggle-container">
                <span>üåô</span>
                <label class="theme-toggle">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider"></span>
                </label>
                <span>‚òÄÔ∏è</span>
            </div>
        </div>
    </div>

    <!-- ===== HERO SECTION 3D INTERACTIF AVEC IA ===== -->
    <section class="hero">
        <canvas id="three-canvas"></canvas>
        <div class="hero-content">
            <h1>Security Hub <span class="neon-effect">IA Enterprise</span></h1>
            <p>Plateforme unifi√©e avec <span class="ai-highlight">intelligence artificielle avanc√©e</span> transformant la s√©curit√© en avantage business mesurable gr√¢ce √† l'automatisation intelligente et la pr√©diction des risques</p>
            <div class="cta-buttons">
                <a href="#demo" class="btn btn-primary touch-optimized touch-button">
                    <i class="fas fa-robot touch-icon"></i> Explorer l'IA
                </a>
                <a href="#github" class="btn btn-outline touch-optimized touch-button">
                    <i class="fab fa-github touch-icon"></i> Code Source IA
                </a>
                <a href="#library" class="btn btn-secondary touch-optimized touch-button" onclick="openLibraryWindow()">
                    <i class="fas fa-book touch-icon"></i> Biblioth√®que
                </a>
            </div>
        </div>
    </section>

    <!-- ===== WINDOW SYSTEM - LIBRARY WINDOW ===== -->
    <div class="window-system" id="library-window">
        <div class="window-container">
            <div class="window-header">
                <div class="window-title">
                    <i class="fas fa-book"></i> Biblioth√®que d'Informations S√©curit√©
                </div>
                <div class="window-controls">
                    <button class="window-btn window-btn-minimize touch-optimized touch-button">
                        <i class="fas fa-minus"></i>
                    </button>
                    <button class="window-btn window-btn-maximize touch-optimized touch-button">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button class="window-btn window-btn-close touch-optimized touch-button" onclick="closeLibraryWindow()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="window-content">
                <div class="library-container">
                    <div class="library-sidebar">
                        <div class="search-container">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" class="search-input" id="library-search" placeholder="Rechercher dans la biblioth√®que...">
                        </div>
                        
                        <div class="sidebar-section">
                            <div class="sidebar-title">
                                <i class="fas fa-folder"></i> Cat√©gories
                            </div>
                            <div class="category-list">
                                <div class="category-item active" data-category="all">
                                    <i class="fas fa-th-large"></i> Toutes les ressources
                                </div>
                                <div class="category-item" data-category="security">
                                    <i class="fas fa-shield-alt"></i> S√©curit√©
                                </div>
                                <div class="category-item" data-category="compliance">
                                    <i class="fas fa-balance-scale"></i> Conformit√©
                                </div>
                                <div class="category-item" data-category="ai">
                                    <i class="fas fa-brain"></i> Intelligence Artificielle
                                </div>
                                <div class="category-item" data-category="architecture">
                                    <i class="fas fa-diagram-project"></i> Architecture
                                </div>
                                <div class="category-item" data-category="best-practices">
                                    <i class="fas fa-bookmark"></i> Bonnes Pratiques
                                </div>
                            </div>
                        </div>
                        
                        <div class="sidebar-section">
                            <div class="sidebar-title">
                                <i class="fas fa-tags"></i> Tags Populaires
                            </div>
                            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                <span class="resource-type" style="background: var(--success-bg); color: var(--success);">RGPD</span>
                                <span class="resource-type" style="background: var(--warning-bg); color: var(--warning);">ISO 27001</span>
                                <span class="resource-type" style="background: var(--primary-bg); color: var(--primary);">ML Security</span>
                                <span class="resource-type" style="background: var(--tertiary-bg); color: var(--tertiary);">Zero Trust</span>
                                <span class="resource-type" style="background: var(--info-bg); color: var(--info);">Cloud Security</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="library-main">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                            <div>
                                <h2 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Ressources S√©curit√©</h2>
                                <p style="color: var(--text-secondary);">D√©couvrez notre biblioth√®que compl√®te de ressources s√©curit√© et IA</p>
                            </div>
                            <div style="display: flex; gap: 0.75rem;">
                                <button class="btn btn-secondary touch-optimized touch-button">
                                    <i class="fas fa-filter touch-icon"></i> Filtres
                                </button>
                                <button class="btn btn-primary touch-optimized touch-button" onclick="openResourceDetail()">
                                    <i class="fas fa-plus touch-icon"></i> Nouvelle ressource
                                </button>
                            </div>
                        </div>
                        
                        <div class="resource-grid" id="resource-grid">
                            <!-- Resources will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="window-footer">
                <button class="btn btn-secondary touch-optimized touch-button">
                    <i class="fas fa-download touch-icon"></i> Exporter
                </button>
                <button class="btn btn-primary touch-optimized touch-button">
                    <i class="fas fa-sync touch-icon"></i> Actualiser
                </button>
            </div>
        </div>
    </div>

    <!-- ===== WINDOW SYSTEM - RESOURCE DETAIL WINDOW ===== -->
    <div class="window-system" id="resource-detail-window">
        <div class="window-container">
            <div class="window-header">
                <div class="window-title">
                    <i class="fas fa-file-alt"></i> D√©tail de la Ressource
                </div>
                <div class="window-controls">
                    <button class="window-btn window-btn-minimize touch-optimized touch-button">
                        <i class="fas fa-minus"></i>
                    </button>
                    <button class="window-btn window-btn-maximize touch-optimized touch-button">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button class="window-btn window-btn-close touch-optimized touch-button" onclick="closeResourceDetailWindow()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="window-content">
                <div id="resource-detail-content">
                    <!-- Resource detail content will be loaded dynamically -->
                </div>
            </div>
            <div class="window-footer">
                <button class="btn btn-secondary touch-optimized touch-button">
                    <i class="fas fa-print touch-icon"></i> Imprimer
                </button>
                <button class="btn btn-primary touch-optimized touch-button">
                    <i class="fas fa-share touch-icon"></i> Partager
                </button>
            </div>
        </div>
    </div>

    <!-- ===== AI WIDGET CONTAINER ===== -->
    <div class="ai-container">
        <div class="copilot-widget">
            <div class="copilot-header">
                <div class="copilot-avatar">
                    <i class="fas fa-brain"></i>
                </div>
                <div>
                    <div class="copilot-title">Copilot IA S√©curit√©</div>
                    <div class="copilot-status">
                        <span class="status-dot"></span>
                        Pr√™t √† aider
                    </div>
                </div>
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="chat-bubble ai">
                    Bonjour ! Je suis votre assistant IA de s√©curit√©. Comment puis-je vous aider aujourd'hui ?
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" class="copilot-input" id="copilot-input" placeholder="Demandez-moi conseil sur la s√©curit√©...">
                <button class="copilot-btn copilot-btn-primary touch-optimized touch-button" id="send-message">
                    <i class="fas fa-paper-plane touch-icon"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // ======================
        // ARCHITECTURE IA AVANC√âE - VERSION ENTREPRISE
        // ======================
        
        console.log("üöÄ Security Hub IA Enterprise charg√© - Architecture par Nicolas B√®s");
        console.log("ü§ñ IA Strat√©gique : Transformation de la s√©curit√© en avantage business mesurable");
        console.log("üí° Chaque fonctionnalit√© IA est con√ßue pour maximiser l'adoption et le ROI");
        console.log("üì± Optimis√© pour mobile avec touch interactions");
        console.log("üåô Mode sombre/clair auto-d√©tect√©");
        console.log("üîå PWA Ready - Fonctionne hors ligne");
        console.log("üìö Biblioth√®que d'informations complexe int√©gr√©e");
        
        // ===== GLOBAL STATE MANAGEMENT =====
        class SecurityHubState {
            constructor() {
                this.isMobile = window.innerWidth < 768;
                this.isOffline = !navigator.onLine;
                this.theme = this.detectTheme();
                this.deferredPrompt = null;
                this.resources = this.loadResources();
                this.chatHistory = [];
                this.windowStates = {
                    library: false,
                    resourceDetail: false
                };
                this.initialize();
            }
            
            detectTheme() {
                const savedTheme = localStorage.getItem('security-hub-theme');
                if (savedTheme) return savedTheme;
                
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                return prefersDark ? 'dark' : 'light';
            }
            
            loadResources() {
                const savedResources = localStorage.getItem('security-hub-resources');
                if (savedResources) return JSON.parse(savedResources);
                
                return [
                    {
                        id: 'sec-001',
                        title: 'Guide RGPD Complet',
                        description: 'Documentation compl√®te sur la conformit√© RGPD avec exemples pratiques et checklist d\'audit',
                        type: 'documentation',
                        category: 'compliance',
                        tags: ['RGPD', 'conformit√©', 'audit'],
                        author: 'Nicolas B√®s',
                        date: '2025-01-15',
                        content: `
                            <h2>Guide RGPD Complet - Security Hub</h2>
                            <p>Ce guide pratique vous accompagne dans votre d√©marche de conformit√© RGPD avec des exemples concrets et des outils op√©rationnels.</p>
                            
                            <h3>üìã Checklist Conformit√© RGPD</h3>
                            <ul>
                                <li><strong>üìù Registre des traitements :</strong> Documentation compl√®te de tous les traitements de donn√©es personnelles</li>
                                <li><strong>üîí Mesures de s√©curit√© :</strong> Chiffrement, pseudonymisation, contr√¥le d'acc√®s</li>
                                <li><strong>üìß Consentement explicite :</strong> M√©canismes de consentement clairs et r√©vocables</li>
                                <li><strong>üö® Notification des violations :</strong> Proc√©dure de notification en moins de 72h</li>
                                <li><strong>üë• D√©l√©gu√© √† la protection des donn√©es :</strong> Nomination et contact</li>
                            </ul>
                            
                            <h3>‚ö° Bonnes Pratiques d'Impl√©mentation</h3>
                            <p>Int√©grez la conformit√© RGPD d√®s la conception de vos syst√®mes avec l'approche "Privacy by Design" :</p>
                            
                            <div style="background: var(--primary-bg); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                                <strong>üí° Conseil IA :</strong> Automatisez la d√©tection des donn√©es personnelles avec des algorithmes NLP pour identifier les risques de non-conformit√© avant qu'ils ne surviennent.
                            </div>
                            
                            <h3>üìä Exemple de Tableau de Bord RGPD</h3>
                            <p>Voici les m√©triques cl√©s √† suivre pour votre conformit√© :</p>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                                <div style="background: var(--success-bg); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--success);">95%</div>
                                    <div>Taux de conformit√©</div>
                                </div>
                                <div style="background: var(--warning-bg); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--warning);">3</div>
                                    <div>Risques identifi√©s</div>
                                </div>
                                <div style="background: var(--info-bg); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--info);">14</div>
                                    <div>Jours avant audit</div>
                                </div>
                            </div>
                            
                            <h3>üöÄ ROI de la Conformit√© RGPD</h3>
                            <p>La conformit√© RGPD n'est pas seulement une obligation l√©gale, c'est un avantage concurrentiel :</p>
                            <ul>
                                <li><strong>+40% de confiance client</strong> gr√¢ce √† une gestion transparente des donn√©es</li>
                                <li><strong>-65% de risques juridiques</strong> avec une documentation compl√®te</li>
                                <li><strong>+25% d'efficacit√© op√©rationnelle</strong> gr√¢ce √† l'automatisation des processus</li>
                            </ul>
                            
                            <div style="margin-top: 2rem; padding: 1.5rem; background: var(--primary-bg); border-radius: 12px; border-left: 4px solid var(--primary);">
                                <h4 style="color: var(--primary); margin-bottom: 0.5rem;">üîç Insight Strat√©gique par Nicolas B√®s</h4>
                                <p>"La v√©ritable valeur de la conformit√© RGPD r√©side dans sa capacit√© √† transformer la contrainte r√©glementaire en levier business. En int√©grant la s√©curit√© et la protection des donn√©es d√®s la conception, vous cr√©ez non seulement de la confiance, mais aussi des processus plus efficaces et r√©silients."</p>
                            </div>
                        `
                    },
                    {
                        id: 'ai-001',
                        title: 'Mod√®les ML pour S√©curit√©',
                        description: 'Guide pratique des mod√®les de machine learning appliqu√©s √† la s√©curit√© des syst√®mes',
                        type: 'guide',
                        category: 'ai',
                        tags: ['ML', 's√©curit√©', 'pr√©diction'],
                        author: 'Nicolas B√®s',
                        date: '2025-01-20',
                        content: `
                            <h2>Mod√®les ML pour S√©curit√© - Security Hub</h2>
                            <p>D√©couvrez comment l'intelligence artificielle transforme la s√©curit√© des syst√®mes avec des mod√®les de machine learning avanc√©s.</p>
                            
                            <h3>ü§ñ Types de Mod√®les pour la S√©curit√©</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin: 1.5rem 0;">
                                <div style="background: var(--primary-bg); padding: 1.5rem; border-radius: 12px;">
                                    <h4 style="color: var(--primary); margin-bottom: 0.5rem;">D√©tection d'Anomalies</h4>
                                    <p>Mod√®les non supervis√©s pour identifier les comportements inhabituels dans les syst√®mes</p>
                                    <div style="margin-top: 0.5rem; display: flex; gap: 0.5rem;">
                                        <span class="resource-type" style="background: var(--primary-bg); color: var(--primary);">Isolation Forest</span>
                                        <span class="resource-type" style="background: var(--primary-bg); color: var(--primary);">Autoencodeurs</span>
                                    </div>
                                </div>
                                <div style="background: var(--secondary-bg); padding: 1.5rem; border-radius: 12px;">
                                    <h4 style="color: var(--secondary); margin-bottom: 0.5rem;">Classification de Menaces</h4>
                                    <p>Mod√®les supervis√©s pour cat√©goriser et prioriser les menaces</p>
                                    <div style="margin-top: 0.5rem; display: flex; gap: 0.5rem;">
                                        <span class="resource-type" style="background: var(--secondary-bg); color: var(--secondary);">Random Forest</span>
                                        <span class="resource-type" style="background: var(--secondary-bg); color: var(--secondary);">XGBoost</span>
                                    </div>
                                </div>
                            </div>
                            
                            <h3>‚ö° Impl√©mentation Pratique avec TensorFlow.js</h3>
                            <p>Voici un exemple de code pour un mod√®le de d√©tection d'anomalies :</p>
                            
                            <pre style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1rem 0; font-family: monospace; font-size: 0.95rem;">
const model = tf.sequential();
model.add(tf.layers.dense({
    inputShape: [FEATURES_COUNT],
    units: 64,
    activation: 'relu'
}));
model.add(tf.layers.dense({
    units: 32,
    activation: 'relu'
}));
model.add(tf.layers.dense({
    units: FEATURES_COUNT,
    activation: 'linear'
}));

model.compile({
    optimizer: 'adam',
    loss: 'mse'
});

// Entra√Ænement sur des donn√©es normales
await model.fit(normalData, normalData, {
    epochs: 50,
    batchSize: 32,
    validationSplit: 0.2
});
                            </pre>
                            
                            <h3>üìä Performance et M√©triques</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                                <div style="background: var(--success-bg); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--success);">89%</div>
                                    <div>Pr√©cision d√©tection</div>
                                </div>
                                <div style="background: var(--warning-bg); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--warning);">0.2%</div>
                                    <div>Taux faux positifs</div>
                                </div>
                                <div style="background: var(--info-bg); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--info);">48h</div>
                                    <div>Temps pr√©diction</div>
                                </div>
                            </div>
                            
                            <h3>üöÄ ROI Business des Mod√®les ML</h3>
                            <p>L'int√©gration de l'IA dans la s√©curit√© g√©n√®re des avantages tangibles :</p>
                            <ul>
                                <li><strong>-75% du temps de r√©ponse</strong> aux incidents gr√¢ce √† la d√©tection proactive</li>
                                <li><strong>+60% de pr√©cision</strong> dans l'identification des menaces r√©elles</li>
                                <li><strong>-40% des co√ªts</strong> li√©s aux faux positifs et √† l'analyse manuelle</li>
                            </ul>
                            
                            <div style="margin-top: 2rem; padding: 1.5rem; background: var(--tertiary-bg); border-radius: 12px; border-left: 4px solid var(--tertiary);">
                                <h4 style="color: var(--tertiary); margin-bottom: 0.5rem;">üí° Insight Technique par Nicolas B√®s</h4>
                                <p>"L'adoption de mod√®les ML pour la s√©curit√© ne se limite pas √† la technologie. La cl√© du succ√®s r√©side dans l'int√©gration transparente de ces mod√®les dans les workflows existants, avec une interface utilisateur qui rend l'IA accessible m√™me aux √©quipes non techniques. C'est cette approche holistique qui transforme la complexit√© technique en avantage business tangible."</p>
                            </div>
                        `
                    },
                    {
                        id: 'arch-001',
                        title: 'Architecture Zero Trust',
                        description: 'Sch√©ma d\'architecture Zero Trust avec impl√©mentation pratique et cas d\'usage',
                        type: 'architecture',
                        category: 'architecture',
                        tags: ['zero trust', 's√©curit√©', 'cloud'],
                        author: 'Nicolas B√®s',
                        date: '2025-01-25',
                        content: `
                            <h2>Architecture Zero Trust - Security Hub</h2>
                            <p>D√©couvrez comment impl√©menter une architecture Zero Trust pour s√©curiser vos syst√®mes modernes.</p>
                            
                            <h3>üè∞ Principes Fondamentaux du Zero Trust</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin: 1.5rem 0;">
                                <div style="background: var(--primary-bg); padding: 1.5rem; border-radius: 12px;">
                                    <h4 style="color: var(--primary); margin-bottom: 0.5rem;">Never Trust, Always Verify</h4>
                                    <p>Aucune entit√© n'est implicitement de confiance - v√©rification continue requise</p>
                                </div>
                                <div style="background: var(--secondary-bg); padding: 1.5rem; border-radius: 12px;">
                                    <h4 style="color: var(--secondary); margin-bottom: 0.5rem;">Least Privilege Access</h4>
                                    <p>Acc√®s minimal n√©cessaire pour accomplir une t√¢che sp√©cifique</p>
                                </div>
                                <div style="background: var(--tertiary-bg); padding: 1.5rem; border-radius: 12px;">
                                    <h4 style="color: var(--tertiary); margin-bottom: 0.5rem;">Assume Breach</h4>
                                    <p>Concevez vos syst√®mes en supposant qu'ils sont d√©j√† compromis</p>
                                </div>
                            </div>
                            
                            <h3>üìä Diagramme d'Architecture Zero Trust</h3>
                            <div style="background: var(--bg-secondary); padding: 2rem; border-radius: 12px; margin: 1.5rem 0; text-align: center;">
                                <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap;">
                                    <div style="text-align: center; margin: 1rem;">
                                        <div style="width: 100px; height: 100px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-weight: bold;">
                                            Users
                                        </div>
                                        <div style="color: var(--text-secondary);">Identit√© & Acc√®s</div>
                                    </div>
                                    
                                    <div style="display: flex; align-items: center;">
                                        <i class="fas fa-arrow-right" style="font-size: 2rem; color: var(--primary);"></i>
                                    </div>
                                    
                                    <div style="text-align: center; margin: 1rem;">
                                        <div style="width: 100px; height: 100px; background: var(--secondary); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-weight: bold;">
                                            Policy
                                            Engine
                                        </div>
                                        <div style="color: var(--text-secondary);">D√©cision d'Acc√®s</div>
                                    </div>
                                    
                                    <div style="display: flex; align-items: center;">
                                        <i class="fas fa-arrow-right" style="font-size: 2rem; color: var(--secondary);"></i>
                                    </div>
                                    
                                    <div style="text-align: center; margin: 1rem;">
                                        <div style="width: 100px; height: 100px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-weight: bold;">
                                            Resources
                                        </div>
                                        <div style="color: var(--text-secondary);">Applications & Donn√©es</div>
                                    </div>
                                </div>
                                <div style="margin-top: 1rem; font-size: 0.9rem; color: var(--text-tertiary);">
                                    <i class="fas fa-shield-alt"></i> Contr√¥le continu avec micro-segmentation et chiffrement de bout en bout
                                </div>
                            </div>
                            
                            <h3>‚ö° Impl√©mentation avec Microsoft 365</h3>
                            <p>Voici les composants cl√©s pour une impl√©mentation Zero Trust avec l'√©cosyst√®me Microsoft :</p>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                                <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem;">
                                    <h4 style="color: var(--primary); margin-bottom: 0.5rem;"><i class="fas fa-user-shield"></i> Azure AD Identity Protection</h4>
                                    <p>D√©tection des risques d'identit√© et r√©ponse automatique</p>
                                </div>
                                <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem;">
                                    <h4 style="color: var(--secondary); margin-bottom: 0.5rem;"><i class="fas fa-network-wired"></i> Microsoft Defender for Cloud</h4>
                                    <p>Protection des workloads cloud avec micro-segmentation</p>
                                </div>
                                <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem;">
                                    <h4 style="color: var(--tertiary); margin-bottom: 0.5rem;"><i class="fas fa-database"></i> Microsoft Purview</h4>
                                    <p>Gouvernance des donn√©es avec classification automatique</p>
                                </div>
                            </div>
                            
                            <h3>üöÄ ROI de l'Architecture Zero Trust</h3>
                            <p>Les b√©n√©fices tangibles de l'impl√©mentation Zero Trust :</p>
                            <ul>
                                <li><strong>-85% des attaques par phishing</strong> gr√¢ce √† l'authentification multifactorielle renforc√©e</li>
                                <li><strong>-70% du temps de r√©ponse</strong> aux incidents de s√©curit√©</li>
                                <li><strong>+50% de conformit√©</strong> avec les r√©gulations RGPD et ISO 27001</li>
                                <li><strong>-45% des co√ªts</strong> li√©s aux violations de donn√©es</li>
                            </ul>
                            
                            <div style="margin-top: 2rem; padding: 1.5rem; background: var(--primary-bg); border-radius: 12px; border-left: 4px solid var(--primary);">
                                <h4 style="color: var(--primary); margin-bottom: 0.5rem;">üéØ Strat√©gie d'Impl√©mentation par Nicolas B√®s</h4>
                                <p>"L'adoption d'une architecture Zero Trust ne doit pas √™tre une rupture brutale, mais une √©volution progressive. Commencez par identifier vos actifs les plus critiques, impl√©mentez des contr√¥les d'acc√®s stricts pour ces ressources, puis √©tendez progressivement l'approche √† l'ensemble de l'organisation. Cette m√©thode it√©rative minimise les perturbations op√©rationnelles tout en maximisant la valeur s√©curit√© g√©n√©r√©e."</p>
                            </div>
                        `
                    }
                ];
            }
            
            initialize() {
                this.setupEventListeners();
                this.setupTheme();
                this.setupOfflineDetection();
                this.setupPWA();
                this.setupMobileNavigation();
                this.setupWindowSystem();
                this.setupLibrary();
                this.setupChatbot();
                this.setupThemeToggle();
            }
            
            setupEventListeners() {
                window.addEventListener('resize', () => {
                    this.isMobile = window.innerWidth < 768;
                    console.log(`üì± Responsive: ${window.innerWidth}x${window.innerHeight}, Mobile: ${this.isMobile}`);
                });
                
                window.addEventListener('online', () => {
                    this.isOffline = false;
                    this.showOfflineStatus(true);
                });
                
                window.addEventListener('offline', () => {
                    this.isOffline = true;
                    this.showOfflineStatus(false);
                });
            }
            
            setupTheme() {
                document.body.classList.add(`theme-${this.theme}`);
                document.getElementById('theme-color').content = this.theme === 'dark' ? '#0f172a' : '#6366f1';
            }
            
            setupOfflineDetection() {
                this.isOffline = !navigator.onLine;
                if (this.isOffline) {
                    this.showOfflineStatus(false);
                }
            }
            
            setupPWA() {
                if ('serviceWorker' in navigator) {
                    window.addEventListener('load', () => {
                        navigator.serviceWorker.register('/service-worker.js')
                            .then(registration => {
                                console.log('‚úÖ ServiceWorker enregistr√© avec succ√®s:', registration.scope);
                                this.setupInstallPrompt();
                            })
                            .catch(error => {
                                console.error('‚ùå Erreur lors de l\'enregistrement du ServiceWorker:', error);
                            });
                    });
                }
            }
            
            setupInstallPrompt() {
                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    this.deferredPrompt = e;
                    this.showInstallPrompt();
                });
            }
            
            setupMobileNavigation() {
                const mobileMenuBtn = document.getElementById('mobile-menu-btn');
                const closeMenuBtn = document.getElementById('close-menu');
                const hamburgerMenu = document.getElementById('hamburger-menu');
                
                if (mobileMenuBtn && closeMenuBtn && hamburgerMenu) {
                    mobileMenuBtn.addEventListener('click', () => {
                        hamburgerMenu.classList.add('open');
                        document.body.style.overflow = 'hidden';
                    });
                    
                    closeMenuBtn.addEventListener('click', () => {
                        hamburgerMenu.classList.remove('open');
                        document.body.style.overflow = '';
                    });
                    
                    // Close menu when clicking outside
                    document.addEventListener('click', (e) => {
                        if (hamburgerMenu.classList.contains('open') && 
                            !hamburgerMenu.contains(e.target) && 
                            !mobileMenuBtn.contains(e.target)) {
                            hamburgerMenu.classList.remove('open');
                            document.body.style.overflow = '';
                        }
                    });
                }
            }
            
            setupWindowSystem() {
                // Library window
                const libraryLinks = document.querySelectorAll('[onclick="openLibraryWindow()"]');
                libraryLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.openLibraryWindow();
                    });
                });
                
                // Resource detail window
                window.openResourceDetail = (resourceId = null) => {
                    this.openResourceDetailWindow(resourceId);
                };
                
                window.closeLibraryWindow = () => {
                    this.closeLibraryWindow();
                };
                
                window.closeResourceDetailWindow = () => {
                    this.closeResourceDetailWindow();
                };
            }
            
            setupLibrary() {
                this.renderResources();
                
                // Search functionality
                const searchInput = document.getElementById('library-search');
                if (searchInput) {
                    searchInput.addEventListener('input', (e) => {
                        this.filterResources(e.target.value);
                    });
                }
                
                // Category filtering
                const categoryItems = document.querySelectorAll('.category-item');
                categoryItems.forEach(item => {
                    item.addEventListener('click', (e) => {
                        categoryItems.forEach(i => i.classList.remove('active'));
                        item.classList.add('active');
                        const category = item.getAttribute('data-category');
                        this.filterResources('', category);
                    });
                });
            }
            
            setupChatbot() {
                const sendMessageBtn = document.getElementById('send-message');
                const copilotInput = document.getElementById('copilot-input');
                
                if (sendMessageBtn && copilotInput) {
                    sendMessageBtn.addEventListener('click', () => this.processUserMessage());
                    copilotInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') this.processUserMessage();
                    });
                }
            }
            
            setupThemeToggle() {
                const themeToggle = document.getElementById('theme-toggle');
                if (themeToggle) {
                    themeToggle.checked = this.theme === 'dark';
                    themeToggle.addEventListener('change', (e) => {
                        this.toggleTheme(e.target.checked ? 'dark' : 'light');
                    });
                }
            }
            
            showOfflineStatus(isOnline) {
                const indicator = document.getElementById('offline-indicator');
                if (indicator) {
                    indicator.textContent = isOnline ? 'Connexion r√©tablie' : 'Mode hors ligne';
                    indicator.className = `offline-indicator ${isOnline ? 'online' : ''} visible`;
                    
                    setTimeout(() => {
                        indicator.classList.remove('visible');
                    }, 3000);
                }
            }
            
            showInstallPrompt() {
                const prompt = document.getElementById('install-prompt');
                if (prompt && this.deferredPrompt) {
                    prompt.classList.add('visible');
                    
                    document.getElementById('cancel-install').addEventListener('click', () => {
                        prompt.classList.remove('visible');
                        this.deferredPrompt = null;
                    });
                    
                    document.getElementById('confirm-install').addEventListener('click', () => {
                        prompt.classList.remove('visible');
                        this.deferredPrompt.prompt();
                        
                        this.deferredPrompt.userChoice.then((choiceResult) => {
                            if (choiceResult.outcome === 'accepted') {
                                console.log('‚úÖ Utilisateur a accept√© l\'installation');
                            } else {
                                console.log('‚ùå Utilisateur a refus√© l\'installation');
                            }
                            this.deferredPrompt = null;
                        });
                    });
                }
            }
            
            toggleTheme(newTheme) {
                document.body.classList.remove('theme-light', 'theme-dark');
                document.body.classList.add(`theme-${newTheme}`);
                this.theme = newTheme;
                localStorage.setItem('security-hub-theme', newTheme);
                document.getElementById('theme-color').content = newTheme === 'dark' ? '#0f172a' : '#6366f1';
            }
            
            openLibraryWindow() {
                const libraryWindow = document.getElementById('library-window');
                if (libraryWindow) {
                    libraryWindow.classList.add('visible');
                    document.body.style.overflow = 'hidden';
                    this.windowStates.library = true;
                    this.renderResources();
                }
            }
            
            closeLibraryWindow() {
                const libraryWindow = document.getElementById('library-window');
                if (libraryWindow) {
                    libraryWindow.classList.remove('visible');
                    document.body.style.overflow = '';
                    this.windowStates.library = false;
                }
            }
            
            openResourceDetailWindow(resourceId = null) {
                const resourceDetailWindow = document.getElementById('resource-detail-window');
                if (resourceDetailWindow) {
                    resourceDetailWindow.classList.add('visible');
                    document.body.style.overflow = 'hidden';
                    this.windowStates.resourceDetail = true;
                    
                    if (resourceId) {
                        const resource = this.resources.find(r => r.id === resourceId);
                        if (resource) {
                            this.displayResourceDetail(resource);
                        }
                    }
                }
            }
            
            closeResourceDetailWindow() {
                const resourceDetailWindow = document.getElementById('resource-detail-window');
                if (resourceDetailWindow) {
                    resourceDetailWindow.classList.remove('visible');
                    document.body.style.overflow = '';
                    this.windowStates.resourceDetail = false;
                }
            }
            
            renderResources(filter = '', category = 'all') {
                const grid = document.getElementById('resource-grid');
                if (!grid) return;
                
                let filteredResources = this.resources;
                
                if (filter) {
                    const searchTerm = filter.toLowerCase();
                    filteredResources = filteredResources.filter(resource => 
                        resource.title.toLowerCase().includes(searchTerm) || 
                        resource.description.toLowerCase().includes(searchTerm) ||
                        resource.tags.some(tag => tag.toLowerCase().includes(searchTerm))
                    );
                }
                
                if (category !== 'all') {
                    filteredResources = filteredResources.filter(resource => 
                        resource.category === category
                    );
                }
                
                grid.innerHTML = '';
                
                if (filteredResources.length === 0) {
                    grid.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                            <i class="fas fa-search" style="font-size: 3rem; color: var(--text-tertiary);"></i>
                            <h3 style="margin: 1rem 0; color: var(--text-secondary);">Aucune ressource trouv√©e</h3>
                            <p style="color: var(--text-tertiary);">Essayez de modifier vos crit√®res de recherche ou de s√©lectionner une autre cat√©gorie</p>
                        </div>
                    `;
                    return;
                }
                
                filteredResources.forEach(resource => {
                    const resourceElement = document.createElement('div');
                    resourceElement.className = 'resource-card fade-in';
                    resourceElement.innerHTML = `
                        <div class="resource-icon">
                            <i class="fas ${this.getResourceIcon(resource.category)}"></i>
                        </div>
                        <h3 class="resource-title">${resource.title}</h3>
                        <p class="resource-description">${resource.description}</p>
                        <div class="resource-meta">
                            <span>
                                <i class="fas fa-user" style="margin-right: 0.5rem; color: var(--text-tertiary);"></i>
                                ${resource.author}
                            </span>
                            <span class="resource-type">${this.getResourceTypeLabel(resource.type)}</span>
                        </div>
                        <div class="resource-actions">
                            <button class="resource-btn resource-btn-primary touch-optimized touch-button" 
                                    onclick="openResourceDetail('${resource.id}')">
                                <i class="fas fa-eye touch-icon"></i> Voir d√©tail
                            </button>
                        </div>
                    `;
                    grid.appendChild(resourceElement);
                });
                
                // Trigger animations
                setTimeout(() => {
                    document.querySelectorAll('.fade-in').forEach(el => {
                        el.classList.add('appear');
                    });
                }, 100);
            }
            
            filterResources(searchTerm = '', category = 'all') {
                this.renderResources(searchTerm, category);
            }
            
            getResourceIcon(category) {
                const icons = {
                    'security': 'fa-shield-alt',
                    'compliance': 'fa-balance-scale',
                    'ai': 'fa-brain',
                    'architecture': 'fa-diagram-project',
                    'best-practices': 'fa-bookmark',
                    'all': 'fa-th-large'
                };
                return icons[category] || 'fa-file-alt';
            }
            
            getResourceTypeLabel(type) {
                const labels = {
                    'documentation': 'Documentation',
                    'guide': 'Guide',
                    'architecture': 'Architecture',
                    'case-study': 'Cas d\'√©tude',
                    'tool': 'Outil'
                };
                return labels[type] || type;
            }
            
            displayResourceDetail(resource) {
                const content = document.getElementById('resource-detail-content');
                if (content && resource) {
                    content.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1.5rem;">
                            <div>
                                <h1 style="font-size: 2rem; margin-bottom: 0.5rem;">${resource.title}</h1>
                                <div style="display: flex; align-items: center; gap: 1rem; color: var(--text-tertiary); margin-bottom: 1rem;">
                                    <span><i class="fas fa-user"></i> ${resource.author}</span>
                                    <span><i class="fas fa-calendar"></i> ${new Date(resource.date).toLocaleDateString('fr-FR')}</span>
                                    <span><i class="fas fa-folder"></i> ${this.getResourceCategoryLabel(resource.category)}</span>
                                </div>
                                <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                    ${resource.tags.map(tag => 
                                        `<span class="resource-type" style="background: var(--primary-bg); color: var(--primary);">${tag}</span>`
                                    ).join('')}
                                </div>
                            </div>
                            <div style="display: flex; gap: 0.75rem;">
                                <button class="btn btn-secondary touch-optimized touch-button">
                                    <i class="fas fa-bookmark touch-icon"></i> Sauvegarder
                                </button>
                                <button class="btn btn-primary touch-optimized touch-button">
                                    <i class="fas fa-download touch-icon"></i> T√©l√©charger
                                </button>
                            </div>
                        </div>
                        
                        <div style="background: var(--bg-secondary); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                            ${resource.content}
                        </div>
                        
                        <div style="margin-top: 2rem;">
                            <h3 style="margin-bottom: 1rem;"><i class="fas fa-comments"></i> Commentaires et Discussions</h3>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <div style="background: var(--bg-secondary); border-radius: 8px; padding: 1rem;">
                                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
                                        <div style="width: 36px; height: 36px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">NB</div>
                                        <div>
                                            <strong>Nicolas B√®s</strong>
                                            <span style="color: var(--text-tertiary); margin-left: 0.5rem; font-size: 0.85rem;">il y a 2 jours</span>
                                        </div>
                                    </div>
                                    <p>Cette ressource a √©t√© con√ßue pour d√©montrer comment transformer la complexit√© technique en simplicit√© op√©rationnelle. La cl√© est de prioriser l'exp√©rience utilisateur tout en maintenant des standards de s√©curit√© √©lev√©s.</p>
                                </div>
                                <div style="background: var(--bg-secondary); border-radius: 8px; padding: 1rem;">
                                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
                                        <div style="width: 36px; height: 36px; background: var(--secondary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">AR</div>
                                        <div>
                                            <strong>Admin Security</strong>
                                            <span style="color: var(--text-tertiary); margin-left: 0.5rem; font-size: 0.85rem;">il y a 5 heures</span>
                                        </div>
                                    </div>
                                    <p>Excellente documentation ! J'ai particuli√®rement appr√©ci√© la partie sur l'ROI business qui permet de justifier les investissements en s√©curit√© aupr√®s de la direction.</p>
                                </div>
                            </div>
                            
                            <div style="margin-top: 1rem;">
                                <textarea placeholder="Ajouter un commentaire..." style="width: 100%; padding: 1rem; border-radius: 8px; border: 1px solid var(--border-color); background: var(--bg-secondary); color: var(--text-primary); min-height: 80px; margin-bottom: 0.75rem;"></textarea>
                                <button class="btn btn-primary touch-optimized touch-button">
                                    <i class="fas fa-comment touch-icon"></i> Commenter
                                </button>
                            </div>
                        </div>
                    `;
                }
            }
            
            getResourceCategoryLabel(category) {
                const labels = {
                    'security': 'S√©curit√©',
                    'compliance': 'Conformit√©',
                    'ai': 'Intelligence Artificielle',
                    'architecture': 'Architecture',
                    'best-practices': 'Bonnes Pratiques'
                };
                return labels[category] || category;
            }
            
            processUserMessage() {
                const input = document.getElementById('copilot-input');
                const messages = document.getElementById('chat-messages');
                const message = input.value.trim();
                
                if (message) {
                    // Add user message
                    this.addChatMessage(message, false);
                    input.value = '';
                    
                    // Show typing indicator
                    this.addChatMessage('<i>‚ö° Copilot IA est en train de r√©fl√©chir...</i>', true, true);
                    
                    // Process message with AI
                    setTimeout(() => {
                        // Remove typing indicator
                        const typingMessages = messages.querySelectorAll('.typing-indicator');
                        typingMessages.forEach(msg => msg.remove());
                        
                        // Get AI response
                        const response = this.getAIResponse(message);
                        this.addChatMessage(response, true);
                        
                        // Save to history
                        this.chatHistory.push({ user: message, ai: response, timestamp: new Date().toISOString() });
                        localStorage.setItem('security-hub-chat-history', JSON.stringify(this.chatHistory));
                    }, 1000);
                }
            }
            
            addChatMessage(message, isAI = true, isTyping = false) {
                const messages = document.getElementById('chat-messages');
                if (!messages) return;
                
                const messageDiv = document.createElement('div');
                messageDiv.className = `chat-bubble ${isAI ? 'ai' : 'user'} ${isTyping ? 'typing-indicator' : ''}`;
                messageDiv.innerHTML = isAI ? `<strong>Copilot IA:</strong> ${message}` : `<strong>Vous:</strong> ${message}`;
                messages.appendChild(messageDiv);
                messages.scrollTop = messages.scrollHeight;
                
                // Auto-scroll to bottom
                setTimeout(() => {
                    messages.scrollTop = messages.scrollHeight;
                }, 100);
            }
            
            getAIResponse(userMessage) {
                // This would be replaced with actual AI API calls in production
                const lowerMessage = userMessage.toLowerCase();
                
                if (lowerMessage.includes('rgpd') || lowerMessage.includes('conformit√©')) {
                    return `
                        La conformit√© RGPD est un levier strat√©gique, pas une contrainte. 
                        Notre plateforme Security Hub IA automatise 80% des processus de conformit√© :
                        
                        <div style="margin: 1rem 0; padding: 1rem; background: var(--success-bg); border-radius: 8px;">
                            <strong>‚úÖ ROI D√©montr√© :</strong> R√©duction de 65% des co√ªts d'audit et augmentation de 40% de la confiance client gr√¢ce √† une gestion transparente des donn√©es.
                        </div>
                        
                        Je peux vous guider vers notre <strong>Guide RGPD Complet</strong> dans la biblioth√®que qui contient des checklists pratiques et des exemples concrets d'impl√©mentation. Voulez-vous que je vous y emm√®ne ?
                    `;
                }
                
                if (lowerMessage.includes('zero trust') || lowerMessage.includes('architecture')) {
                    return `
                        L'architecture Zero Trust est essentielle pour les syst√®mes modernes. 
                        Notre approche combine :
                        
                        <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                            <li><strong>Never Trust, Always Verify</strong> - Aucune entit√© n'est de confiance par d√©faut</li>
                            <li><strong>Least Privilege Access</strong> - Permissions minimales n√©cessaires</li>
                            <li><strong>Assume Breach</strong> - Conception r√©siliente face aux compromissions</li>
                        </ul>
                        
                        <div style="margin: 1rem 0; padding: 1rem; background: var(--primary-bg); border-radius: 8px;">
                            <strong>üìä Impact Mesurable :</strong> Nos clients constatent une r√©duction de 85% des attaques par phishing et -70% du temps de r√©ponse aux incidents apr√®s impl√©mentation.
                        </div>
                        
                        D√©couvrez notre <strong>Architecture Zero Trust</strong> compl√®te dans la biblioth√®que pour une impl√©mentation pas √† pas !
                    `;
                }
                
                if (lowerMessage.includes('machine learning') || lowerMessage.includes('ia') || lowerMessage.includes('intelligence artificielle')) {
                    return `
                        Nos mod√®les ML pour la s√©curit√© utilisent des techniques avanc√©es :
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; margin: 1rem 0;">
                            <div style="background: var(--primary-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <div style="font-weight: bold; color: var(--primary);">D√©tection d'Anomalies</div>
                                <div style="font-size: 0.9rem;">89% de pr√©cision</div>
                            </div>
                            <div style="background: var(--secondary-bg); padding: 0.75rem; border-radius: 8px; text-align: center;">
                                <div style="font-weight: bold; color: var(--secondary);">Classification Menaces</div>
                                <div style="font-size: 0.9rem;">92% de pr√©cision</div>
                            </div>
                        </div>
                        
                        <div style="margin: 1rem 0; padding: 1rem; background: var(--tertiary-bg); border-radius: 8px;">
                            <strong>üí° Innovation :</strong> Int√©gration native avec GitHub Copilot pour la d√©tection automatique des vuln√©rabilit√©s dans le code avant m√™me le commit.
                        </div>
                        
                        Explorez notre <strong>Guide des Mod√®les ML pour S√©curit√©</strong> dans la biblioth√®que pour des exemples de code et des cas d'usage concrets !
                    `;
                }
                
                return `
                    Je suis votre assistant IA de s√©curit√©, con√ßu pour vous aider √† transformer la complexit√© en simplicit√© op√©rationnelle. 
                    
                    <div style="margin: 1rem 0; padding: 1rem; background: var(--ai-gradient); border-radius: 8px; color: white;">
                        <strong>üéØ Focus Nicolas B√®s :</strong> "La v√©ritable s√©curit√© n'est pas dans la complexit√© des outils, mais dans la simplicit√© de leur adoption par tous les utilisateurs."
                    </div>
                    
                    Que souhaitez-vous explorer aujourd'hui ?
                    <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                        <li><strong>üîê Conformit√© RGPD/ISO 27001</strong></li>
                        <li><strong>ü§ñ Mod√®les ML pour d√©tection des menaces</strong></li>
                        <li><strong>üè∞ Architecture Zero Trust</strong></li>
                        <li><strong>üìä ROI business de la s√©curit√©</strong></li>
                    </ul>
                `;
            }
        }
        
        // ===== INITIALISATION DE L'APPLICATION =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log("üéØ DOM charg√© - Initialisation Security Hub IA Enterprise");
            
            // Initialize the state management system
            window.securityHubState = new SecurityHubState();
            
            // Add demonstration message after 3 seconds
            setTimeout(() => {
                if (document.getElementById('copilot-input')) {
                    document.getElementById('copilot-input').value = "Comment puis-je impl√©menter une architecture Zero Trust ?";
                    window.securityHubState.processUserMessage();
                }
            }, 3000);
            
            // Add scroll animations
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('appear');
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('.fade-in').forEach(element => {
                observer.observe(element);
            });
            
            // CTA button handlers
            document.querySelectorAll('.btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    if (this.getAttribute('href') === '#demo') {
                        e.preventDefault();
                        alert('üöÄ D√©monstration IA Avanc√©e\n\nCette plateforme int√®gre :\n‚Ä¢ GitHub Copilot pour d√©veloppement s√©curis√©\n‚Ä¢ ML pr√©dictif pour d√©tection des menaces\n‚Ä¢ Chatbot NLP conversationnel\n‚Ä¢ Visualisation 3D avec r√©seau neuronal\n‚Ä¢ ROI business mesurable en temps r√©el\n\nContactez-nous pour une d√©mo compl√®te avec cas d\'usage sp√©cifiques.');
                    } else if (this.getAttribute('href') === '#github') {
                        e.preventDefault();
                        alert('üíª Code Source IA Avanc√©e\n\nCe fichier unique contient :\n‚Ä¢ Architecture IA compl√®te sans d√©pendances externes\n‚Ä¢ Visualisation 3D interactive avec Three.js\n‚Ä¢ Machine Learning pr√©dictif (simul√©)\n‚Ä¢ Chatbot NLP int√©gr√©\n‚Ä¢ Tableaux de bord dynamiques\n‚Ä¢ Documentation p√©dagogique int√©gr√©e\n\nParfait pour d√©montrer l\'expertise IA et la capacit√© √† simplifier la complexit√©.');
                    }
                });
            });
            
            // Smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    if (this.getAttribute('onclick')) return;
                    
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            console.log("üéâ Security Hub IA Enterprise compl√®tement initialis√©");
            console.log("üåü Architecture par Nicolas B√®s - Preuve de comp√©tence technique et m√©tier");
        });
        
        // ===== SERVICE WORKER POUR MODE OFFLINE =====
        if ('serviceWorker' in navigator) {
            const serviceWorkerCode = `
                const CACHE_NAME = 'security-hub-ia-v1';
                const urlsToCache = [
                    '/',
                    '/index.html',
                    'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css',
                    'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js',
                    'https://d3js.org/d3.v7.min.js',
                    'https://cdn.jsdelivr.net/npm/chart.js',
                    'https://cdn.jsdelivr.net/npm/markdown-it@12.3.2/dist/markdown-it.min.js',
                    'https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0/dist/tf.min.js'
                ];

                self.addEventListener('install', event => {
                    console.log('üì¶ ServiceWorker install√©');
                    event.waitUntil(
                        caches.open(CACHE_NAME)
                            .then(cache => {
                                console.log('üì• Mise en cache des ressources');
                                return cache.addAll(urlsToCache);
                            })
                    );
                });

                self.addEventListener('fetch', event => {
                    event.respondWith(
                        caches.match(event.request)
                            .then(response => {
                                if (response) {
                                    console.log('‚úÖ Ressource servie depuis le cache:', event.request.url);
                                    return response;
                                }
                                return fetch(event.request).catch(() => {
                                    console.log('üîÑ Ressource non disponible, tentative depuis le cache');
                                    return caches.match('/index.html');
                                });
                            })
                    );
                });

                self.addEventListener('activate', event => {
                    console.log('‚úÖ ServiceWorker activ√©');
                    const cacheWhitelist = [CACHE_NAME];
                    event.waitUntil(
                        caches.keys().then(cacheNames => {
                            return Promise.all(
                                cacheNames.map(cacheName => {
                                    if (!cacheWhitelist.includes(cacheName)) {
                                        console.log('üóëÔ∏è Suppression de l\'ancien cache:', cacheName);
                                        return caches.delete(cacheName);
                                    }
                                })
                            );
                        })
                    );
                });

                self.addEventListener('message', event => {
                    if (event.data && event.data.type === 'SKIP_WAITING') {
                        self.skipWaiting();
                    }
                });
            `;
            
            // Create Blob and register Service Worker
            const blob = new Blob([serviceWorkerCode], {type: 'application/javascript'});
            const serviceWorkerURL = URL.createObjectURL(blob);
            
            navigator.serviceWorker.register(serviceWorkerURL)
                .then(registration => {
                    console.log('‚úÖ ServiceWorker enregistr√© avec succ√®s:', registration.scope);
                })
                .catch(error => {
                    console.error('‚ùå Erreur lors de l\'enregistrement du ServiceWorker:', error);
                });
        }
        
        // Generate manifest dynamically
        const manifest = {
            "name": "Security Hub IA Enterprise",
            "short_name": "SecurityHub IA",
            "start_url": "/",
            "display": "standalone",
            "background_color": "#0f172a",
            "theme_color": "#6366f1",
            "description": "Plateforme de s√©curit√© intelligente avec IA avanc√©e",
            "icons": [
                {
                    "src": "data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%236366f1%22/></svg>",
                    "sizes": "192x192",
                    "type": "image/svg+xml",
                    "purpose": "any maskable"
                },
                {
                    "src": "data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%238b5cf6%22/></svg>",
                    "sizes": "512x512",
                    "type": "image/svg+xml",
                    "purpose": "any maskable"
                }
            ]
        };
        
        // Create and insert manifest
        const manifestBlob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
        const manifestURL = URL.createObjectURL(manifestBlob);
        document.getElementById('manifest-placeholder').setAttribute('href', manifestURL);
        
        console.log("‚úÖ PWA Configuration compl√®te - Mode offline activ√©");
        console.log("üì± Application installable comme application native");
        console.log("üîí Toutes les ressources sont mises en cache pour un fonctionnement hors ligne");
    </script>
</body>
</html>
